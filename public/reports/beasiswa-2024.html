<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infografis Keuangan - Beasiswa Santri POSKU 2024-2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .energetic-playful-bg { background-color: #00A0B0; }
        .energetic-playful-text-orange { color: #EB6841; }
        .energetic-playful-text-red { color: #CC333F; }
        .energetic-playful-text-yellow { color: #EDC951; }
        .energetic-playful-text-brown { color: #6A4A3C; }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flow-arrow {
            font-size: 2.5rem;
            line-height: 1;
            color: #CC333F;
            transform: rotate(90deg);
        }
        @media (min-width: 768px) {
            .flow-arrow {
                transform: rotate(0deg);
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="energetic-playful-bg text-white p-8 text-center shadow-lg">
        <h1 class="text-4xl md:text-5xl font-black mb-2">Analisis Keuangan Program Beasiswa Santri POSKU</h1>
        <p class="text-xl font-semibold">Tahun Ajaran 2024-2025</p>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="ringkasan" class="mb-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2">Ringkasan Kinerja Keuangan</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">Program menunjukkan keberhasilan dalam mencapai target prioritas utama, namun menghadapi tantangan signifikan terkait utang tahun sebelumnya dan celah pendanaan untuk mencapai target optimal.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <p class="text-lg font-semibold text-gray-500 mb-2">Total Dana Terkumpul</p>
                    <p class="text-5xl font-extrabold energetic-playful-text-brown">Rp 203 Jt</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <p class="text-lg font-semibold text-gray-500 mb-2">Pencapaian Target Prioritas 1</p>
                    <p class="text-5xl font-extrabold" style="color:#00A0B0;">115.28%</p>
                    <p class="text-md text-gray-500">(Target: Rp 89,05 Jt)</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <p class="text-lg font-semibold text-gray-500 mb-2">Pencapaian Target Optimal</p>
                    <p class="text-5xl font-extrabold energetic-playful-text-yellow">77.58%</p>
                     <p class="text-md text-gray-500">(Target: Rp 261,7 Jt)</p>
                </div>
            </div>
        </section>

        <section id="target-vs-utang" class="mb-12">
             <div class="bg-white p-6 md:p-8 rounded-xl shadow-md">
                <h2 class="text-3xl font-bold energetic-playful-text-orange mb-4 text-center">Tantangan Target & Utang Tahun Lalu</h2>
                <p class="text-center max-w-3xl mx-auto text-lg text-gray-600 mb-8">Beban utang dari tahun ajaran 2023-2024 secara signifikan memengaruhi alokasi dana tahun ini. Hampir separuh dari target pengumpulan minimal harus dialokasikan untuk melunasi kewajiban masa lalu.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="text-center border-r-0 md:border-r-2 border-gray-200 pr-0 md:pr-6">
                        <h3 class="text-2xl font-bold mb-2 energetic-playful-text-brown">Target Minimal 2024-2025</h3>
                        <p class="text-4xl font-extrabold text-gray-700">Rp 176,1 Jt</p>
                    </div>
                    <div class="text-center">
                        <h3 class="text-2xl font-bold mb-2 energetic-playful-text-red">Utang Beasiswa 2023-2024</h3>
                        <p class="text-4xl font-extrabold energetic-playful-text-red">Rp 87,06 Jt</p>
                    </div>
                </div>
                <div class="mt-8">
                    <h4 class="text-xl font-semibold text-center mb-3">Utang Mengonsumsi Target Minimal</h4>
                    <div class="w-full bg-gray-200 rounded-full h-8 shadow-inner">
                        <div class="energetic-playful-bg h-8 rounded-full text-white font-bold flex items-center justify-center" style="width: 100%; background-color: #00A0B0;">
                            Target Minimal (100%)
                        </div>
                    </div>
                     <div class="w-full bg-gray-200 rounded-full h-8 mt-2 shadow-inner">
                        <div class="h-8 rounded-full text-white font-bold flex items-center justify-center" style="width: 49.43%; background-color: #CC333F;">
                            Beban Utang (49.43%)
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="sumber-dana" class="mb-12">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-md">
                <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2 text-center">Komposisi Sumber Dana</h2>
                <p class="text-center max-w-3xl mx-auto text-lg text-gray-600 mb-8">Program sangat bergantung pada dua sumber utama: Ta'awun Wali Santri dan Zakat. Kedua sumber ini menyumbang lebih dari tiga perempat total pemasukan, menunjukkan adanya risiko konsentrasi pendanaan.</p>
                <div class="chart-container">
                    <canvas id="sumberDanaChart"></canvas>
                </div>
            </div>
        </section>
        
        <section id="tren-penggalangan" class="mb-12">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-md">
                <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2 text-center">Perjalanan Penggalangan Dana Kumulatif</h2>
                <p class="text-center max-w-3xl mx-auto text-lg text-gray-600 mb-8">Pengumpulan dana menunjukkan lonjakan drastis pada bulan September, yang menjadi kunci dalam melampaui Target Prioritas 1. Pertumbuhan di bulan-bulan lain cenderung lebih lambat dan inkremental.</p>
                <div class="chart-container" style="max-height: 450px; height: 400px;">
                    <canvas id="trenPenggalanganChart"></canvas>
                </div>
            </div>
        </section>

        <section id="profil-donatur" class="mb-12">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-md">
                 <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2 text-center">Profil Keterlibatan Donatur</h2>
                <p class="text-center max-w-3xl mx-auto text-lg text-gray-600 mb-8">Keterlibatan donatur internal masih mendominasi. Partisipasi dari Alumni KAF menunjukkan angka yang rendah secara konsisten, menandakan adanya peluang besar yang belum dimanfaatkan untuk memperluas basis donatur.</p>
                <div class="chart-container">
                    <canvas id="profilDonaturChart"></canvas>
                </div>
            </div>
        </section>

        <section id="alur-dana" class="mb-12">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-md">
                <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2 text-center">Alur Dana: Dari Penerimaan ke Penyaluran</h2>
                <p class="text-center max-w-3xl mx-auto text-lg text-gray-600 mb-8">Terdapat perbedaan signifikan antara total dana yang diterima program dengan dana yang tercatat secara eksplisit disalurkan ke Bilistiwa. Celah sebesar Rp 138,2 Juta ini memerlukan klarifikasi segera untuk transparansi penuh.</p>
                <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0 md:space-x-4 text-center mt-8">
                    <div class="border-2 border-dashed border-gray-400 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold energetic-playful-text-brown">Total Penerimaan Dana</h4>
                        <p class="text-3xl font-bold">Rp 203 Jt</p>
                    </div>

                    <div class="flow-arrow">
                        &#10140;
                    </div>

                    <div class="relative border-4 border-red-500 p-6 rounded-lg bg-red-50 animate-pulse">
                         <span class="absolute -top-4 -right-4 px-3 py-1 bg-red-500 text-white text-lg font-bold rounded-full">!</span>
                        <h4 class="text-lg font-semibold energetic-playful-text-red">Celah Dana Tak Tercatat</h4>
                        <p class="text-3xl font-bold">Rp 138.2 Jt</p>
                        <p class="text-gray-600">(Memerlukan Rekonsiliasi)</p>
                    </div>

                    <div class="flow-arrow">
                        &#10140;
                    </div>

                    <div class="border-2 border-dashed border-gray-400 p-6 rounded-lg">
                        <h4 class="text-lg font-semibold" style="color:#00A0B0;">Dana Disalurkan ke Bilistiwa</h4>
                        <p class="text-3xl font-bold">Rp 64.7 Jt</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="rekomendasi">
            <div class="text-center mb-8">
                 <h2 class="text-3xl font-bold energetic-playful-text-orange mb-2">Rekomendasi & Langkah ke Depan</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600">Untuk keberlanjutan jangka panjang dan pertumbuhan program, beberapa area strategis perlu menjadi fokus utama.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">🔄</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Diversifikasi Pendanaan</h3>
                    </div>
                    <p class="text-gray-600">Mengurangi ketergantungan pada sumber utama dengan mencari sponsor korporat, hibah, dan mengadakan acara penggalangan dana yang lebih beragam.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">🎓</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Pelibatan Alumni</h3>
                    </div>
                    <p class="text-gray-600">Mengembangkan strategi khusus untuk menjangkau dan mengaktifkan jaringan alumni sebagai basis donatur yang stabil dan berkelanjutan.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">🔍</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Transparansi Keuangan</h3>
                    </div>
                    <p class="text-gray-600">Segera merekonsiliasi dan menjelaskan selisih dana Rp 138,2 Juta untuk menjaga kepercayaan donatur dan para pemangku kepentingan.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">💸</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Manajemen Utang</h3>
                    </div>
                    <p class="text-gray-600">Membuat rencana terstruktur untuk melunasi utang tahun sebelumnya agar dana di masa depan dapat difokuskan sepenuhnya untuk kebutuhan beasiswa.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">📈</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Pelaporan Terstandar</h3>
                    </div>
                    <p class="text-gray-600">Menyeragamkan pencatatan data di semua dokumen keuangan untuk memastikan analisis yang akurat dan pengambilan keputusan yang lebih baik.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md">
                    <div class="flex items-center mb-3">
                        <span class="text-4xl mr-4">🎯</span>
                        <h3 class="text-xl font-bold energetic-playful-text-brown">Mencapai Target Optimal</h3>
                    </div>
                    <p class="text-gray-600">Setelah fondasi keuangan sehat, menyusun strategi baru untuk mencapai Target Prioritas 5 dan memperluas dampak program secara signifikan.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-6 mt-8 bg-gray-800 text-white">
        <p>&copy; 2024 Analisis Infografis Keuangan. Dibuat berdasarkan data Laporan Keuangan Beasiswa Santri POSKU.</p>
    </footer>

    <script>
        function wrapLabel(label, maxWidth) {
            if (typeof label !== 'string' || label.length <= maxWidth) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + word).length > maxWidth) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            });
            lines.push(currentLine.trim());
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        const defaultChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: {
                            family: 'Inter',
                            size: 12
                        },
                         boxWidth: 20,
                         padding: 20
                    }
                },
                tooltip: {
                    enabled: true,
                    titleFont: {
                        family: 'Inter',
                        size: 14,
                        weight: 'bold'
                    },
                    bodyFont: {
                        family: 'Inter',
                        size: 12
                    },
                    padding: 10,
                    backgroundColor: 'rgba(0,0,0,0.7)',
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            },
            scales: {
                y: {
                    ticks: {
                        font: { family: 'Inter' }
                    }
                },
                x: {
                    ticks: {
                        font: { family: 'Inter' }
                    }
                }
            }
        };

        const colorPalette = {
            blue: '#00A0B0',
            brown: '#6A4A3C',
            red: '#CC333F',
            orange: '#EB6841',
            yellow: '#EDC951',
            grey: '#CCCCCC'
        };
        
        const sumberDanaData = {
            labels: [
                wrapLabel("Ta'awun Wali Santri", 16), 
                'Keuntungan BAF Kitchen', 
                'Zakat', 
                'Keuntungan Tim Buku',
                wrapLabel('Infak Kajian Wajib/Muslimah Center', 16),
                'Donatur Tali Kasih POSKU'
            ],
            datasets: [{
                label: 'Jumlah Kontribusi (Rp)',
                data: [110171782, 35395520, 45251101, 10500000, 1006120, 700000],
                backgroundColor: [
                    colorPalette.blue,
                    colorPalette.orange,
                    colorPalette.yellow,
                    colorPalette.brown,
                    colorPalette.red,
                    colorPalette.grey
                ],
                hoverOffset: 4
            }]
        };

        const sumberDanaCtx = document.getElementById('sumberDanaChart').getContext('2d');
        new Chart(sumberDanaCtx, {
            type: 'doughnut',
            data: sumberDanaData,
            options: {
                ...defaultChartOptions,
                cutout: '60%',
            }
        });
        
        const trenPenggalanganData = {
            labels: ['Juli', 'Agustus', 'September', 'Okt-Nov', 'Desember', 'Januari', 'Februari', 'Mar-Jun'],
            datasets: [
                {
                    label: 'Dana Terkumpul Kumulatif (Rp)',
                    data: [3500000, 11268200, 129464422, 132414422, 146564422, 155114422, 162023422, 203024523],
                    borderColor: colorPalette.blue,
                    backgroundColor: 'rgba(0, 160, 176, 0.1)',
                    fill: true,
                    tension: 0.3,
                    pointRadius: 5,
                    pointBackgroundColor: colorPalette.blue,
                },
                {
                    label: 'Target Prioritas 1 (Rp)',
                    data: Array(8).fill(89050000),
                    borderColor: colorPalette.orange,
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0,
                },
                {
                    label: 'Target Optimal P5 (Rp)',
                    data: Array(8).fill(261693222),
                    borderColor: colorPalette.red,
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0,
                }
            ]
        };

        const trenPenggalanganCtx = document.getElementById('trenPenggalanganChart').getContext('2d');
        new Chart(trenPenggalanganCtx, {
            type: 'line',
            data: trenPenggalanganData,
            options: {
                ...defaultChartOptions,
                 scales: {
                    y: {
                        ticks: {
                            callback: function(value, index, values) {
                                return 'Rp ' + (value / 1000000) + ' Jt';
                            },
                            font: { family: 'Inter' }
                        }
                    },
                    x: { ticks: { font: { family: 'Inter' } } }
                },
                plugins: {
                    ...defaultChartOptions.plugins,
                    tooltip: {
                         ...defaultChartOptions.plugins.tooltip,
                         callbacks: {
                            ...defaultChartOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(context.parsed.y);
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        const profilDonaturData = {
            labels: ['September', 'Okt-Nov', 'Desember', 'Januari', 'Februari', 'Mar-Jun'],
            datasets: [
                {
                    label: 'Donatur Internal',
                    data: [13, 6, 9, 9, 6, null],
                    backgroundColor: colorPalette.blue,
                    borderColor: colorPalette.blue,
                    borderWidth: 1
                },
                {
                    label: 'Donatur Alumni KAF',
                    data: [0, 1, 5, 3, 2, 4],
                    backgroundColor: colorPalette.orange,
                    borderColor: colorPalette.orange,
                    borderWidth: 1
                }
            ]
        };
        const profilDonaturCtx = document.getElementById('profilDonaturChart').getContext('2d');
        new Chart(profilDonaturCtx, {
            type: 'bar',
            data: profilDonaturData,
            options: {
                ...defaultChartOptions,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Jumlah Donatur',
                            font: { family: 'Inter', size: 14, weight: 'bold' }
                        },
                        ticks: { font: { family: 'Inter' } }
                    },
                    x: { ticks: { font: { family: 'Inter' } } }
                }
            }
        });
    </script>

</body>
</html>
